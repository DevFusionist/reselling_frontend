"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenManager: function() { return /* binding */ TokenManager; },\n/* harmony export */   apiClient: function() { return /* binding */ apiClient; }\n/* harmony export */ });\n/* harmony import */ var _loader_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loader-manager */ \"(app-pages-browser)/./lib/loader-manager.ts\");\n// API Client for Reseller Backend\n// Optimized with caching, error handling, and token management\n\nconst API_BASE_URL = \"http://localhost:9000\" || 0;\n// --- Token Management Class ---\nclass TokenManager {\n    static getAccessToken() {\n        if (false) {}\n        return localStorage.getItem(this.ACCESS_TOKEN_KEY);\n    }\n    static getRefreshToken() {\n        if (false) {}\n        return localStorage.getItem(this.REFRESH_TOKEN_KEY);\n    }\n    static setTokens(accessToken, refreshToken) {\n        if (false) {}\n        localStorage.setItem(this.ACCESS_TOKEN_KEY, accessToken);\n        localStorage.setItem(this.REFRESH_TOKEN_KEY, refreshToken);\n    }\n    static clearTokens() {\n        if (false) {}\n        localStorage.removeItem(this.ACCESS_TOKEN_KEY);\n        localStorage.removeItem(this.REFRESH_TOKEN_KEY);\n    }\n}\nTokenManager.ACCESS_TOKEN_KEY = \"velvetZenith_accessToken\";\nTokenManager.REFRESH_TOKEN_KEY = \"velvetZenith_refreshToken\";\n// --- API Client Class ---\nclass ApiClient {\n    /**\n   * Private method to handle all API requests, including authorization and refresh logic.\n   * @param endpoint The API endpoint path.\n   * @param options Fetch options (method, body, headers).\n   * @param isRetry Flag to prevent infinite retry loops on token failure.\n   * @param showLoader Flag to control whether to show the global loader (default: true, false for refresh/retry).\n   * @returns A promise that resolves to ApiResponse<T>.\n   */ async request(endpoint) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, isRetry = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, showLoader = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : true;\n        const url = \"\".concat(this.baseURL).concat(endpoint);\n        const token = TokenManager.getAccessToken();\n        // Show loader for initial requests (not retries or refresh endpoints)\n        const shouldShowLoader = showLoader && !isRetry && !endpoint.includes(\"/auth/refresh\");\n        if (shouldShowLoader) {\n            _loader_manager__WEBPACK_IMPORTED_MODULE_0__.LoaderManager.show();\n        }\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            ...options.headers || {}\n        };\n        if (token) {\n            headers[\"Authorization\"] = \"Bearer \".concat(token);\n        }\n        // Remove Content-Type for FormData requests (browser handles setting boundary)\n        if (options.body instanceof FormData) {\n            delete headers[\"Content-Type\"];\n        }\n        try {\n            var _data_message;\n            const response = await fetch(url, {\n                ...options,\n                headers\n            });\n            const isUnauthorizedStatus = response.status === 401;\n            let data;\n            // Safely attempt to parse the body as JSON\n            try {\n                var _response_headers_get;\n                if (((_response_headers_get = response.headers.get(\"content-type\")) === null || _response_headers_get === void 0 ? void 0 : _response_headers_get.includes(\"application/json\")) && response.status !== 204) {\n                    data = await response.json();\n                } else {\n                    // Handle non-JSON response types gracefully\n                    if (!response.ok) {\n                        data = {\n                            success: false,\n                            message: response.statusText || \"Unknown Error\",\n                            code: isUnauthorizedStatus ? \"UNAUTHORIZED\" : \"API_ERROR\"\n                        };\n                    } else {\n                        // For 2xx responses with no JSON (e.g., 204 No Content), assume success\n                        data = {\n                            success: true,\n                            message: \"Success (No content)\"\n                        };\n                    }\n                }\n            } catch (e) {\n                // If JSON parsing fails (e.g., empty body or malformed JSON)\n                console.error(\"Error parsing response body for \".concat(endpoint, \":\"), e);\n                if (isUnauthorizedStatus) {\n                    // If it's a 401 status, manually set the UNAUTHORIZED code\n                    data = {\n                        success: false,\n                        message: \"Unauthorized\",\n                        code: \"UNAUTHORIZED\"\n                    };\n                } else {\n                    data = {\n                        success: false,\n                        message: response.statusText || \"Invalid response format\"\n                    };\n                }\n            }\n            // Final evaluation of the unauthorized condition (based on status or parsed code)\n            const isUnauthorized = isUnauthorizedStatus || data.code === \"UNAUTHORIZED\" || data.success === false && ((_data_message = data.message) === null || _data_message === void 0 ? void 0 : _data_message.toLowerCase().includes(\"unauthorized\"));\n            console.log(\"isUnauthorized\", isUnauthorized);\n            console.log(\"Token present for retry:\", !!token, \"Is Retry:\", isRetry); // DEBUG LOG\n            // --- Token Refresh Logic ---\n            if (isUnauthorized && token && !isRetry) {\n                console.warn(\"Unauthorized request. Attempting token refresh...\");\n                // If already refreshing, wait for that to complete\n                if (this.isRefreshing && this.refreshPromise) {\n                    await this.refreshPromise;\n                } else {\n                    // Start refresh process\n                    this.isRefreshing = true;\n                    this.refreshPromise = this.refreshToken();\n                    const refreshed = await this.refreshPromise;\n                    this.isRefreshing = false;\n                    this.refreshPromise = null;\n                    if (!refreshed) {\n                        console.error(\"Token refresh failed. Clearing tokens.\");\n                        TokenManager.clearTokens();\n                        // Critical error: cannot refresh, forcing logout/relogin\n                        throw new Error(\"Authentication failed - unable to refresh token. Please log in again.\");\n                    }\n                }\n                // Retry the original request with the new token (don't show loader again)\n                console.log(\"Token refresh successful. Retrying original request...\");\n                return this.request(endpoint, options, true, false);\n            }\n            // --- End Token Refresh Logic ---\n            // Hide loader on success\n            if (shouldShowLoader) {\n                _loader_manager__WEBPACK_IMPORTED_MODULE_0__.LoaderManager.hide();\n            }\n            return data;\n        } catch (error) {\n            // Hide loader on error\n            if (shouldShowLoader) {\n                _loader_manager__WEBPACK_IMPORTED_MODULE_0__.LoaderManager.hide();\n            }\n            console.error(\"API request to \".concat(endpoint, \" failed:\"), error);\n            throw error;\n        }\n    }\n    /**\n   * Handles the token refresh API call and updates the stored tokens.\n   * @returns A promise that resolves to true if refresh was successful, false otherwise.\n   */ async refreshToken() {\n        const refreshToken = TokenManager.getRefreshToken();\n        if (!refreshToken) {\n            console.error(\"No refresh token available. Cannot refresh.\");\n            return false;\n        }\n        try {\n            const response = await fetch(\"\".concat(this.baseURL, \"/auth/refresh\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    refreshToken\n                })\n            });\n            if (!response.ok) {\n                console.error(\"Token refresh API failed with status:\", response.status);\n                return false;\n            }\n            const data = await response.json();\n            if (data.success && data.data) {\n                // Successfully got new tokens\n                TokenManager.setTokens(data.data.accessToken, data.data.refreshToken);\n                return true;\n            }\n            console.error(\"Token refresh response missing required data or failed:\", data.message);\n            return false;\n        } catch (error) {\n            console.error(\"Token refresh request failed:\", error);\n            return false;\n        }\n    }\n    // --- Public API Methods ---\n    // Auth endpoints\n    async signup(email, password, role) {\n        return this.request(\"/auth/signup\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                email,\n                password,\n                role: role || \"customer\"\n            })\n        });\n    }\n    async login(email, password) {\n        const response = await this.request(\"/auth/login\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                email,\n                password\n            })\n        });\n        if (response.success && response.data) {\n            TokenManager.setTokens(response.data.accessToken, response.data.refreshToken);\n        }\n        return response;\n    }\n    async logout(refreshToken) {\n        const response = await this.request(\"/auth/logout\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                refreshToken\n            })\n        });\n        TokenManager.clearTokens();\n        return response;\n    }\n    // Product endpoints\n    async getProducts(params) {\n        const queryParams = new URLSearchParams();\n        if (params === null || params === void 0 ? void 0 : params.page) queryParams.append(\"page\", params.page.toString());\n        if (params === null || params === void 0 ? void 0 : params.limit) queryParams.append(\"limit\", params.limit.toString());\n        if (params === null || params === void 0 ? void 0 : params.search) queryParams.append(\"search\", params.search);\n        if (params === null || params === void 0 ? void 0 : params.category) queryParams.append(\"category\", params.category);\n        if (params === null || params === void 0 ? void 0 : params.sub_category) queryParams.append(\"sub_category\", params.sub_category);\n        if (params === null || params === void 0 ? void 0 : params.brand) queryParams.append(\"brand\", params.brand);\n        if (params === null || params === void 0 ? void 0 : params.color) queryParams.append(\"color\", params.color);\n        if (params === null || params === void 0 ? void 0 : params.size) queryParams.append(\"size\", params.size);\n        if (params === null || params === void 0 ? void 0 : params.material) queryParams.append(\"material\", params.material);\n        if (params === null || params === void 0 ? void 0 : params.style) queryParams.append(\"style\", params.style);\n        if ((params === null || params === void 0 ? void 0 : params.is_featured) !== undefined) queryParams.append(\"is_featured\", params.is_featured.toString());\n        if ((params === null || params === void 0 ? void 0 : params.min_price) !== undefined) queryParams.append(\"min_price\", params.min_price.toString());\n        if ((params === null || params === void 0 ? void 0 : params.max_price) !== undefined) queryParams.append(\"max_price\", params.max_price.toString());\n        if ((params === null || params === void 0 ? void 0 : params.in_stock) !== undefined) queryParams.append(\"in_stock\", params.in_stock.toString());\n        if (params === null || params === void 0 ? void 0 : params.sort_by) queryParams.append(\"sort_by\", params.sort_by);\n        if (params === null || params === void 0 ? void 0 : params.sort_order) queryParams.append(\"sort_order\", params.sort_order);\n        const query = queryParams.toString();\n        return this.request(\"/products\".concat(query ? \"?\".concat(query) : \"\"));\n    }\n    async getProduct(id) {\n        return this.request(\"/products/\".concat(id));\n    }\n    async createProduct(productData, images) {\n        if (images && images.length > 0) {\n            // Use FormData for multipart upload\n            const formData = new FormData();\n            formData.append(\"data\", JSON.stringify(productData));\n            images.forEach((image, index)=>{\n                formData.append(\"images\", image);\n                // Include attributes metadata for each file if available\n                if (productData.fileAttributes) {\n                    const fileAttr = productData.fileAttributes.find((attr)=>attr.index === index);\n                    if (fileAttr && fileAttr.attributes) {\n                        formData.append(\"image_attributes_\".concat(index), JSON.stringify(fileAttr.attributes));\n                    }\n                }\n            });\n            return this.request(\"/products\", {\n                method: \"POST\",\n                body: formData\n            });\n        }\n        return this.request(\"/products\", {\n            method: \"POST\",\n            body: JSON.stringify(productData)\n        });\n    }\n    async updateProduct(id, productData, images) {\n        if (images && images.length > 0) {\n            const formData = new FormData();\n            formData.append(\"data\", JSON.stringify(productData));\n            images.forEach((image)=>{\n                formData.append(\"images\", image);\n            });\n            return this.request(\"/products/\".concat(id), {\n                method: \"PUT\",\n                body: formData\n            });\n        }\n        return this.request(\"/products/\".concat(id), {\n            method: \"PUT\",\n            body: JSON.stringify(productData)\n        });\n    }\n    async deleteProduct(id) {\n        return this.request(\"/products/\".concat(id), {\n            method: \"DELETE\"\n        });\n    }\n    async bulkDeleteProducts(productIds) {\n        return this.request(\"/products/bulk-delete\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                product_ids: productIds\n            })\n        });\n    }\n    async updateProductStatus(id, status) {\n        return this.request(\"/products/\".concat(id, \"/status\"), {\n            method: \"PATCH\",\n            body: JSON.stringify({\n                status\n            })\n        });\n    }\n    async updateProductStock(id, stock) {\n        return this.request(\"/products/\".concat(id, \"/stock\"), {\n            method: \"PATCH\",\n            body: JSON.stringify({\n                stock\n            })\n        });\n    }\n    async bulkUpdateProductStock(updates) {\n        return this.request(\"/products/bulk-stock\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                updates\n            })\n        });\n    }\n    async deleteProductImage(imageId) {\n        return this.request(\"/products/images/\".concat(imageId), {\n            method: \"DELETE\"\n        });\n    }\n    // Order endpoints\n    async getOrders(params) {\n        const queryParams = new URLSearchParams();\n        if (params === null || params === void 0 ? void 0 : params.page) queryParams.append(\"page\", params.page.toString());\n        if (params === null || params === void 0 ? void 0 : params.limit) queryParams.append(\"limit\", params.limit.toString());\n        const query = queryParams.toString();\n        return this.request(\"/orders\".concat(query ? \"?\".concat(query) : \"\"));\n    }\n    async getOrder(id) {\n        return this.request(\"/orders/\".concat(id));\n    }\n    async updateOrderStatus(id, status) {\n        return this.request(\"/orders/\".concat(id, \"/status\"), {\n            method: \"PATCH\",\n            body: JSON.stringify({\n                status\n            })\n        });\n    }\n    async getPayouts(params) {\n        const queryParams = new URLSearchParams();\n        if (params === null || params === void 0 ? void 0 : params.page) queryParams.append(\"page\", params.page.toString());\n        if (params === null || params === void 0 ? void 0 : params.limit) queryParams.append(\"limit\", params.limit.toString());\n        if (params === null || params === void 0 ? void 0 : params.status) queryParams.append(\"status\", params.status);\n        const query = queryParams.toString();\n        return this.request(\"/admin/payouts\".concat(query ? \"?\".concat(query) : \"\"));\n    }\n    async updatePayoutStatus(id, status) {\n        return this.request(\"/admin/payouts/\".concat(id, \"/status\"), {\n            method: \"PATCH\",\n            body: JSON.stringify({\n                status\n            })\n        });\n    }\n    async createOrder(orderData) {\n        return this.request(\"/orders\", {\n            method: \"POST\",\n            body: JSON.stringify(orderData)\n        });\n    }\n    // Payment endpoints\n    async createPaymentOrder(orderId, metadata) {\n        const body = {\n            order_id: orderId\n        };\n        if (metadata !== undefined) {\n            body.metadata = metadata;\n        }\n        return this.request(\"/payments/create-order\", {\n            method: \"POST\",\n            body: JSON.stringify(body)\n        });\n    }\n    async verifyPayment(paymentData) {\n        return this.request(\"/payments/verify\", {\n            method: \"POST\",\n            body: JSON.stringify(paymentData)\n        });\n    }\n    // Share link endpoints\n    async createShareLink(data) {\n        return this.request(\"/share\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                product_id: data.product_id,\n                margin_amount: data.margin_amount,\n                ...data.expires_in_days && {\n                    expires_in_days: data.expires_in_days\n                }\n            })\n        });\n    }\n    async getShareLink(code) {\n        return this.request(\"/share/\".concat(code));\n    }\n    async getShareLinks() {\n        return this.request(\"/share\");\n    }\n    async deleteShareLink(code) {\n        return this.request(\"/share/\".concat(code), {\n            method: \"DELETE\"\n        });\n    }\n    // Markup endpoints (for resellers)\n    async setMarkup(productId, markup) {\n        return this.request(\"/markups\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                product_id: productId,\n                markup\n            })\n        });\n    }\n    async getMarkups() {\n        return this.request(\"/markups\");\n    }\n    async getMarkup(productId) {\n        return this.request(\"/markups/\".concat(productId));\n    }\n    async fetchProductDataByShareLinkCode(code) {\n        return this.request(\"/share/\".concat(code));\n    }\n    // Attribute endpoints\n    async getCategories() {\n        return this.request(\"/attributes/categories\");\n    }\n    async getSubCategories(categoryId) {\n        const query = categoryId ? \"?category_id=\".concat(categoryId) : \"\";\n        return this.request(\"/attributes/sub-categories\".concat(query));\n    }\n    async getBrands() {\n        return this.request(\"/attributes/brands\");\n    }\n    async getColors() {\n        return this.request(\"/attributes/colors\");\n    }\n    async getSizes() {\n        return this.request(\"/attributes/sizes\");\n    }\n    async getMaterials() {\n        return this.request(\"/attributes/materials\");\n    }\n    async getStyles() {\n        return this.request(\"/attributes/styles\");\n    }\n    async getFits() {\n        return this.request(\"/attributes/fits\");\n    }\n    async getPatterns() {\n        return this.request(\"/attributes/patterns\");\n    }\n    async getAllAttributes() {\n        return this.request(\"/attributes/all\");\n    }\n    // Review endpoints\n    async getProductReviews(productId) {\n        return this.request(\"/reviews/product/\".concat(productId));\n    }\n    async getProductRatingStats(productId) {\n        return this.request(\"/reviews/product/\".concat(productId, \"/stats\"));\n    }\n    async getReview(id) {\n        return this.request(\"/reviews/\".concat(id));\n    }\n    async listReviews(params) {\n        const queryParams = new URLSearchParams();\n        if (params === null || params === void 0 ? void 0 : params.page) queryParams.append(\"page\", params.page.toString());\n        if (params === null || params === void 0 ? void 0 : params.limit) queryParams.append(\"limit\", params.limit.toString());\n        if (params === null || params === void 0 ? void 0 : params.product_id) queryParams.append(\"product_id\", params.product_id.toString());\n        if (params === null || params === void 0 ? void 0 : params.user_id) queryParams.append(\"user_id\", params.user_id.toString());\n        if (params === null || params === void 0 ? void 0 : params.rating) queryParams.append(\"rating\", params.rating.toString());\n        if ((params === null || params === void 0 ? void 0 : params.is_approved) !== undefined) queryParams.append(\"is_approved\", params.is_approved.toString());\n        if ((params === null || params === void 0 ? void 0 : params.is_verified_purchase) !== undefined) queryParams.append(\"is_verified_purchase\", params.is_verified_purchase.toString());\n        if (params === null || params === void 0 ? void 0 : params.sort_by) queryParams.append(\"sort_by\", params.sort_by);\n        if (params === null || params === void 0 ? void 0 : params.sort_order) queryParams.append(\"sort_order\", params.sort_order);\n        const query = queryParams.toString();\n        return this.request(\"/reviews\".concat(query ? \"?\".concat(query) : \"\"));\n    }\n    async createReview(reviewData) {\n        return this.request(\"/reviews\", {\n            method: \"POST\",\n            body: JSON.stringify(reviewData)\n        });\n    }\n    async updateReview(id, reviewData) {\n        return this.request(\"/reviews/\".concat(id), {\n            method: \"PUT\",\n            body: JSON.stringify(reviewData)\n        });\n    }\n    async deleteReview(id) {\n        return this.request(\"/reviews/\".concat(id), {\n            method: \"DELETE\"\n        });\n    }\n    async markReviewHelpful(id) {\n        return this.request(\"/reviews/\".concat(id, \"/helpful\"), {\n            method: \"POST\"\n        });\n    }\n    async approveReview(id) {\n        return this.request(\"/reviews/\".concat(id, \"/approve\"), {\n            method: \"POST\"\n        });\n    }\n    constructor(baseURL){\n        this.isRefreshing = false;\n        this.refreshPromise = null;\n        this.baseURL = baseURL;\n    }\n}\n// --- Export Singleton Instance and Classes ---\n// Export singleton instance\nconst apiClient = new ApiClient(API_BASE_URL);\n// Export token manager for direct access if needed\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkI7SUFDRjtJQUVBLE1BQU1DLGFBQWF6RSxFQUFVLEVBQUV3RSxVQUk5QixFQUFnQztRQUMvQixPQUFPLElBQUksQ0FBQ2hKLE9BQU8sQ0FBUyxZQUFlLE9BQUh3RSxLQUFNO1lBQzVDbEMsUUFBUTtZQUNSMUIsTUFBTTJCLEtBQUtDLFNBQVMsQ0FBQ3dHO1FBQ3ZCO0lBQ0Y7SUFFQSxNQUFNRSxhQUFhMUUsRUFBVSxFQUE4QjtRQUN6RCxPQUFPLElBQUksQ0FBQ3hFLE9BQU8sQ0FBTyxZQUFlLE9BQUh3RSxLQUFNO1lBQzFDbEMsUUFBUTtRQUNWO0lBQ0Y7SUFFQSxNQUFNNkcsa0JBQWtCM0UsRUFBVSxFQUFnQztRQUNoRSxPQUFPLElBQUksQ0FBQ3hFLE9BQU8sQ0FBUyxZQUFlLE9BQUh3RSxJQUFHLGFBQVc7WUFDcERsQyxRQUFRO1FBQ1Y7SUFDRjtJQUVBLE1BQU04RyxjQUFjNUUsRUFBVSxFQUFnQztRQUM1RCxPQUFPLElBQUksQ0FBQ3hFLE9BQU8sQ0FBUyxZQUFlLE9BQUh3RSxJQUFHLGFBQVc7WUFDcERsQyxRQUFRO1FBQ1Y7SUFDRjtJQWp6QkErRyxZQUFZL0ksT0FBZSxDQUFFO2FBSHJCMkIsZUFBd0I7YUFDeEJDLGlCQUEwQztRQUdoRCxJQUFJLENBQUM1QixPQUFPLEdBQUdBO0lBQ2pCO0FBZ3pCRjtBQUVBLGdEQUFnRDtBQUVoRCw0QkFBNEI7QUFDckIsTUFBTWdKLFlBQVksSUFBSXZKLFVBQVVqQixjQUFjO0FBRXJELG1EQUFtRDtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvYXBpLnRzPzY4YTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQVBJIENsaWVudCBmb3IgUmVzZWxsZXIgQmFja2VuZFxuLy8gT3B0aW1pemVkIHdpdGggY2FjaGluZywgZXJyb3IgaGFuZGxpbmcsIGFuZCB0b2tlbiBtYW5hZ2VtZW50XG5cbmltcG9ydCB7IExvYWRlck1hbmFnZXIgfSBmcm9tICcuL2xvYWRlci1tYW5hZ2VyJztcblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo0MDAwJztcblxuLy8gLS0tIEludGVyZmFjZSBEZWZpbml0aW9ucyAtLS1cblxuZXhwb3J0IGludGVyZmFjZSBBcGlSZXNwb25zZTxUPiB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZGF0YT86IFQ7XG4gIGNvZGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdCB7XG4gIGlkOiBudW1iZXI7XG4gIHNrdT86IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGJhc2VfcHJpY2U6IG51bWJlciB8IHN0cmluZzsgLy8gQVBJIG1heSByZXR1cm4gYXMgc3RyaW5nXG4gIHJlc2VsbGVyX3ByaWNlPzogbnVtYmVyIHwgc3RyaW5nOyAvLyBBUEkgbWF5IHJldHVybiBhcyBzdHJpbmdcbiAgcmV0YWlsX3ByaWNlPzogbnVtYmVyIHwgc3RyaW5nOyAvLyBBUEkgbWF5IHJldHVybiBhcyBzdHJpbmdcbiAgc3RvY2s6IG51bWJlcjtcbiAgc3RhdHVzPzogc3RyaW5nOyAvLyBQcm9kdWN0IHN0YXR1cyAoYWN0aXZlLCBpbmFjdGl2ZSwgYXJjaGl2ZWQsIGV0Yy4pXG4gIGltYWdlX3VybD86IHN0cmluZztcbiAgaW1hZ2VfdXJscz86IHN0cmluZ1tdO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3RJbWFnZSB7XG4gIGlkOiBudW1iZXI7XG4gIHByb2R1Y3RfaWQ6IG51bWJlcjtcbiAgaW1hZ2VfdXJsOiBzdHJpbmc7XG4gIGRpc3BsYXlfb3JkZXI6IG51bWJlcjtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9kdWN0TGlzdFJlc3BvbnNlIHtcbiAgcHJvZHVjdHM6IFByb2R1Y3RbXTtcbiAgaW1hZ2VzPzogUHJvZHVjdEltYWdlW107XG4gIHRvdGFsOiBudW1iZXI7XG4gIHBhZ2U6IG51bWJlcjtcbiAgbGltaXQ6IG51bWJlcjtcbiAgdG90YWxQYWdlczogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2R1Y3REZXRhaWxSZXNwb25zZSBleHRlbmRzIFByb2R1Y3Qge1xuICBpbWFnZXM/OiBQcm9kdWN0SW1hZ2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IG51bWJlcjtcbiAgZW1haWw6IHN0cmluZztcbiAgcm9sZTogJ2FkbWluJyB8ICdjdXN0b21lcicgfCAncmVzZWxsZXInO1xuICBwcm9maWxlX3BpY3R1cmVfdXJsPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhSZXNwb25zZSB7XG4gIHVzZXI6IFVzZXI7XG4gIGFjY2Vzc1Rva2VuOiBzdHJpbmc7XG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXNlcl9pZDogbnVtYmVyO1xuICB0b3RhbF9hbW91bnQ6IG51bWJlcjtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGl0ZW1zOiBPcmRlckl0ZW1bXTtcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPcmRlckl0ZW0ge1xuICBpZDogbnVtYmVyO1xuICBwcm9kdWN0X2lkOiBudW1iZXI7XG4gIHF1YW50aXR5OiBudW1iZXI7XG4gIHByaWNlOiBudW1iZXI7XG4gIHByb2R1Y3Q/OiBQcm9kdWN0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyTGlzdFJlc3BvbnNlIHtcbiAgb3JkZXJzOiBPcmRlcltdO1xuICB0b3RhbDogbnVtYmVyO1xuICBwYWdlOiBudW1iZXI7XG4gIGxpbWl0OiBudW1iZXI7XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZpZXcge1xuICBpZDogbnVtYmVyO1xuICBwcm9kdWN0X2lkOiBudW1iZXI7XG4gIHVzZXJfaWQ6IG51bWJlcjtcbiAgb3JkZXJfaWQ/OiBudW1iZXIgfCBudWxsO1xuICByYXRpbmc6IG51bWJlcjtcbiAgdGl0bGU/OiBzdHJpbmcgfCBudWxsO1xuICBjb21tZW50Pzogc3RyaW5nIHwgbnVsbDtcbiAgaXNfdmVyaWZpZWRfcHVyY2hhc2U6IGJvb2xlYW47XG4gIGlzX2FwcHJvdmVkOiBib29sZWFuO1xuICBoZWxwZnVsX2NvdW50OiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICB1c2VyX2VtYWlsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld1JhdGluZ1N0YXRzIHtcbiAgYXZlcmFnZV9yYXRpbmc6IG51bWJlcjtcbiAgdG90YWxfcmV2aWV3czogbnVtYmVyO1xuICByYXRpbmdfMTogbnVtYmVyO1xuICByYXRpbmdfMjogbnVtYmVyO1xuICByYXRpbmdfMzogbnVtYmVyO1xuICByYXRpbmdfNDogbnVtYmVyO1xuICByYXRpbmdfNTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldmlld0xpc3RSZXNwb25zZSB7XG4gIHJldmlld3M6IFJldmlld1tdO1xuICB0b3RhbDogbnVtYmVyO1xuICBwYWdlOiBudW1iZXI7XG4gIGxpbWl0OiBudW1iZXI7XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbn1cblxuLy8gLS0tIFRva2VuIE1hbmFnZW1lbnQgQ2xhc3MgLS0tXG5jbGFzcyBUb2tlbk1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBBQ0NFU1NfVE9LRU5fS0VZID0gJ3ZlbHZldFplbml0aF9hY2Nlc3NUb2tlbic7XG4gIHByaXZhdGUgc3RhdGljIFJFRlJFU0hfVE9LRU5fS0VZID0gJ3ZlbHZldFplbml0aF9yZWZyZXNoVG9rZW4nO1xuXG4gIHN0YXRpYyBnZXRBY2Nlc3NUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLkFDQ0VTU19UT0tFTl9LRVkpO1xuICB9XG5cbiAgc3RhdGljIGdldFJlZnJlc2hUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLlJFRlJFU0hfVE9LRU5fS0VZKTtcbiAgfVxuXG4gIHN0YXRpYyBzZXRUb2tlbnMoYWNjZXNzVG9rZW46IHN0cmluZywgcmVmcmVzaFRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLkFDQ0VTU19UT0tFTl9LRVksIGFjY2Vzc1Rva2VuKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlJFRlJFU0hfVE9LRU5fS0VZLCByZWZyZXNoVG9rZW4pO1xuICB9XG5cbiAgc3RhdGljIGNsZWFyVG9rZW5zKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuQUNDRVNTX1RPS0VOX0tFWSk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5SRUZSRVNIX1RPS0VOX0tFWSk7XG4gIH1cbn1cblxuLy8gLS0tIEFQSSBDbGllbnQgQ2xhc3MgLS0tXG5jbGFzcyBBcGlDbGllbnQge1xuICBwcml2YXRlIGJhc2VVUkw6IHN0cmluZztcbiAgcHJpdmF0ZSBpc1JlZnJlc2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWZyZXNoUHJvbWlzZTogUHJvbWlzZTxib29sZWFuPiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGJhc2VVUkw6IHN0cmluZykge1xuICAgIHRoaXMuYmFzZVVSTCA9IGJhc2VVUkw7XG4gIH1cblxuICAvKipcbiAgICogUHJpdmF0ZSBtZXRob2QgdG8gaGFuZGxlIGFsbCBBUEkgcmVxdWVzdHMsIGluY2x1ZGluZyBhdXRob3JpemF0aW9uIGFuZCByZWZyZXNoIGxvZ2ljLlxuICAgKiBAcGFyYW0gZW5kcG9pbnQgVGhlIEFQSSBlbmRwb2ludCBwYXRoLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBGZXRjaCBvcHRpb25zIChtZXRob2QsIGJvZHksIGhlYWRlcnMpLlxuICAgKiBAcGFyYW0gaXNSZXRyeSBGbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgcmV0cnkgbG9vcHMgb24gdG9rZW4gZmFpbHVyZS5cbiAgICogQHBhcmFtIHNob3dMb2FkZXIgRmxhZyB0byBjb250cm9sIHdoZXRoZXIgdG8gc2hvdyB0aGUgZ2xvYmFsIGxvYWRlciAoZGVmYXVsdDogdHJ1ZSwgZmFsc2UgZm9yIHJlZnJlc2gvcmV0cnkpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBBcGlSZXNwb25zZTxUPi5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcmVxdWVzdDxUPihcbiAgICBlbmRwb2ludDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IFJlcXVlc3RJbml0ID0ge30sXG4gICAgaXNSZXRyeTogYm9vbGVhbiA9IGZhbHNlLFxuICAgIHNob3dMb2FkZXI6IGJvb2xlYW4gPSB0cnVlXG4gICk6IFByb21pc2U8QXBpUmVzcG9uc2U8VD4+IHtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmJhc2VVUkx9JHtlbmRwb2ludH1gO1xuICAgIGNvbnN0IHRva2VuID0gVG9rZW5NYW5hZ2VyLmdldEFjY2Vzc1Rva2VuKCk7XG5cbiAgICAvLyBTaG93IGxvYWRlciBmb3IgaW5pdGlhbCByZXF1ZXN0cyAobm90IHJldHJpZXMgb3IgcmVmcmVzaCBlbmRwb2ludHMpXG4gICAgY29uc3Qgc2hvdWxkU2hvd0xvYWRlciA9IHNob3dMb2FkZXIgJiYgIWlzUmV0cnkgJiYgIWVuZHBvaW50LmluY2x1ZGVzKCcvYXV0aC9yZWZyZXNoJyk7XG4gICAgaWYgKHNob3VsZFNob3dMb2FkZXIpIHtcbiAgICAgIExvYWRlck1hbmFnZXIuc2hvdygpO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHx8IHt9KSxcbiAgICB9O1xuXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGZvciBGb3JtRGF0YSByZXF1ZXN0cyAoYnJvd3NlciBoYW5kbGVzIHNldHRpbmcgYm91bmRhcnkpXG4gICAgaWYgKG9wdGlvbnMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICBkZWxldGUgaGVhZGVyc1snQ29udGVudC1UeXBlJ107XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgaXNVbmF1dGhvcml6ZWRTdGF0dXMgPSByZXNwb25zZS5zdGF0dXMgPT09IDQwMTtcblxuICAgICAgbGV0IGRhdGE6IEFwaVJlc3BvbnNlPFQ+O1xuICAgICAgXG4gICAgICAvLyBTYWZlbHkgYXR0ZW1wdCB0byBwYXJzZSB0aGUgYm9keSBhcyBKU09OXG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDQpIHtcbiAgICAgICAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgIC8vIEhhbmRsZSBub24tSlNPTiByZXNwb25zZSB0eXBlcyBncmFjZWZ1bGx5XG4gICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB7IFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgJ1Vua25vd24gRXJyb3InLCBcbiAgICAgICAgICAgICAgICAgICAgY29kZTogaXNVbmF1dGhvcml6ZWRTdGF0dXMgPyAnVU5BVVRIT1JJWkVEJyA6ICdBUElfRVJST1InIFxuICAgICAgICAgICAgICAgIH0gYXMgQXBpUmVzcG9uc2U8VD47XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgLy8gRm9yIDJ4eCByZXNwb25zZXMgd2l0aCBubyBKU09OIChlLmcuLCAyMDQgTm8gQ29udGVudCksIGFzc3VtZSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgIGRhdGEgPSB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdTdWNjZXNzIChObyBjb250ZW50KScgfSBhcyBBcGlSZXNwb25zZTxUPjsgXG4gICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBJZiBKU09OIHBhcnNpbmcgZmFpbHMgKGUuZy4sIGVtcHR5IGJvZHkgb3IgbWFsZm9ybWVkIEpTT04pXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcGFyc2luZyByZXNwb25zZSBib2R5IGZvciAke2VuZHBvaW50fTpgLCBlKTtcbiAgICAgICAgICBpZiAoaXNVbmF1dGhvcml6ZWRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgLy8gSWYgaXQncyBhIDQwMSBzdGF0dXMsIG1hbnVhbGx5IHNldCB0aGUgVU5BVVRIT1JJWkVEIGNvZGVcbiAgICAgICAgICAgICAgZGF0YSA9IHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnLCBjb2RlOiAnVU5BVVRIT1JJWkVEJyB9IGFzIEFwaVJlc3BvbnNlPFQ+O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgZGF0YSA9IHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgJ0ludmFsaWQgcmVzcG9uc2UgZm9ybWF0JyB9IGFzIEFwaVJlc3BvbnNlPFQ+O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmluYWwgZXZhbHVhdGlvbiBvZiB0aGUgdW5hdXRob3JpemVkIGNvbmRpdGlvbiAoYmFzZWQgb24gc3RhdHVzIG9yIHBhcnNlZCBjb2RlKVxuICAgICAgY29uc3QgaXNVbmF1dGhvcml6ZWQgPSBpc1VuYXV0aG9yaXplZFN0YXR1cyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkYXRhLmNvZGUgPT09ICdVTkFVVEhPUklaRUQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkYXRhLnN1Y2Nlc3MgPT09IGZhbHNlICYmIGRhdGEubWVzc2FnZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygndW5hdXRob3JpemVkJykpO1xuXG4gICAgICBjb25zb2xlLmxvZyhcImlzVW5hdXRob3JpemVkXCIsIGlzVW5hdXRob3JpemVkKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gcHJlc2VudCBmb3IgcmV0cnk6XCIsICEhdG9rZW4sIFwiSXMgUmV0cnk6XCIsIGlzUmV0cnkpOyAvLyBERUJVRyBMT0dcblxuICAgICAgLy8gLS0tIFRva2VuIFJlZnJlc2ggTG9naWMgLS0tXG4gICAgICBpZiAoaXNVbmF1dGhvcml6ZWQgJiYgdG9rZW4gJiYgIWlzUmV0cnkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdVbmF1dGhvcml6ZWQgcmVxdWVzdC4gQXR0ZW1wdGluZyB0b2tlbiByZWZyZXNoLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBhbHJlYWR5IHJlZnJlc2hpbmcsIHdhaXQgZm9yIHRoYXQgdG8gY29tcGxldGVcbiAgICAgICAgaWYgKHRoaXMuaXNSZWZyZXNoaW5nICYmIHRoaXMucmVmcmVzaFByb21pc2UpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hQcm9taXNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFN0YXJ0IHJlZnJlc2ggcHJvY2Vzc1xuICAgICAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQcm9taXNlID0gdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgICBjb25zdCByZWZyZXNoZWQgPSBhd2FpdCB0aGlzLnJlZnJlc2hQcm9taXNlO1xuICAgICAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5yZWZyZXNoUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoIXJlZnJlc2hlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBmYWlsZWQuIENsZWFyaW5nIHRva2Vucy4nKTtcbiAgICAgICAgICAgIFRva2VuTWFuYWdlci5jbGVhclRva2VucygpO1xuICAgICAgICAgICAgLy8gQ3JpdGljYWwgZXJyb3I6IGNhbm5vdCByZWZyZXNoLCBmb3JjaW5nIGxvZ291dC9yZWxvZ2luXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCAtIHVuYWJsZSB0byByZWZyZXNoIHRva2VuLiBQbGVhc2UgbG9nIGluIGFnYWluLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHJ5IHRoZSBvcmlnaW5hbCByZXF1ZXN0IHdpdGggdGhlIG5ldyB0b2tlbiAoZG9uJ3Qgc2hvdyBsb2FkZXIgYWdhaW4pXG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiByZWZyZXNoIHN1Y2Nlc3NmdWwuIFJldHJ5aW5nIG9yaWdpbmFsIHJlcXVlc3QuLi4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdDxUPihlbmRwb2ludCwgb3B0aW9ucywgdHJ1ZSwgZmFsc2UpOyBcbiAgICAgIH1cbiAgICAgIC8vIC0tLSBFbmQgVG9rZW4gUmVmcmVzaCBMb2dpYyAtLS1cblxuICAgICAgLy8gSGlkZSBsb2FkZXIgb24gc3VjY2Vzc1xuICAgICAgaWYgKHNob3VsZFNob3dMb2FkZXIpIHtcbiAgICAgICAgTG9hZGVyTWFuYWdlci5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgLy8gSGlkZSBsb2FkZXIgb24gZXJyb3JcbiAgICAgIGlmIChzaG91bGRTaG93TG9hZGVyKSB7XG4gICAgICAgIExvYWRlck1hbmFnZXIuaGlkZSgpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5lcnJvcihgQVBJIHJlcXVlc3QgdG8gJHtlbmRwb2ludH0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB0b2tlbiByZWZyZXNoIEFQSSBjYWxsIGFuZCB1cGRhdGVzIHRoZSBzdG9yZWQgdG9rZW5zLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHJlZnJlc2ggd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcmVmcmVzaFRva2VuKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IFRva2VuTWFuYWdlci5nZXRSZWZyZXNoVG9rZW4oKTtcbiAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgY29uc29sZS5lcnJvcignTm8gcmVmcmVzaCB0b2tlbiBhdmFpbGFibGUuIENhbm5vdCByZWZyZXNoLicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVSTH0vYXV0aC9yZWZyZXNoYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcmVmcmVzaFRva2VuIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gcmVmcmVzaCBBUEkgZmFpbGVkIHdpdGggc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YTogQXBpUmVzcG9uc2U8QXV0aFJlc3BvbnNlPiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKGRhdGEuc3VjY2VzcyAmJiBkYXRhLmRhdGEpIHtcbiAgICAgICAgLy8gU3VjY2Vzc2Z1bGx5IGdvdCBuZXcgdG9rZW5zXG4gICAgICAgIFRva2VuTWFuYWdlci5zZXRUb2tlbnMoZGF0YS5kYXRhLmFjY2Vzc1Rva2VuLCBkYXRhLmRhdGEucmVmcmVzaFRva2VuKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHJlZnJlc2ggcmVzcG9uc2UgbWlzc2luZyByZXF1aXJlZCBkYXRhIG9yIGZhaWxlZDonLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiByZWZyZXNoIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0gUHVibGljIEFQSSBNZXRob2RzIC0tLVxuXG4gIC8vIEF1dGggZW5kcG9pbnRzXG4gIGFzeW5jIHNpZ251cChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCByb2xlPzogJ2FkbWluJyB8ICdjdXN0b21lcicgfCAncmVzZWxsZXInKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBdXRoUmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxBdXRoUmVzcG9uc2U+KCcvYXV0aC9zaWdudXAnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHBhc3N3b3JkLCByb2xlOiByb2xlIHx8ICdjdXN0b21lcicgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBsb2dpbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBdXRoUmVzcG9uc2U+PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8QXV0aFJlc3BvbnNlPignL2F1dGgvbG9naW4nLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHBhc3N3b3JkIH0pLFxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgIFRva2VuTWFuYWdlci5zZXRUb2tlbnMocmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbiwgcmVzcG9uc2UuZGF0YS5yZWZyZXNoVG9rZW4pO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICBhc3luYyBsb2dvdXQocmVmcmVzaFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPG51bGw+PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3Q8bnVsbD4oJy9hdXRoL2xvZ291dCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByZWZyZXNoVG9rZW4gfSksXG4gICAgfSk7XG4gICAgVG9rZW5NYW5hZ2VyLmNsZWFyVG9rZW5zKCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLy8gUHJvZHVjdCBlbmRwb2ludHNcbiAgYXN5bmMgZ2V0UHJvZHVjdHMocGFyYW1zPzoge1xuICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgbGltaXQ/OiBudW1iZXI7XG4gICAgc2VhcmNoPzogc3RyaW5nO1xuICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgIHN1Yl9jYXRlZ29yeT86IHN0cmluZztcbiAgICBicmFuZD86IHN0cmluZztcbiAgICBjb2xvcj86IHN0cmluZztcbiAgICBzaXplPzogc3RyaW5nO1xuICAgIG1hdGVyaWFsPzogc3RyaW5nO1xuICAgIHN0eWxlPzogc3RyaW5nO1xuICAgIGlzX2ZlYXR1cmVkPzogYm9vbGVhbjtcbiAgICBtaW5fcHJpY2U/OiBudW1iZXI7XG4gICAgbWF4X3ByaWNlPzogbnVtYmVyO1xuICAgIGluX3N0b2NrPzogYm9vbGVhbjtcbiAgICBzb3J0X2J5PzogJ2Jhc2VfcHJpY2UnIHwgJ3RpdGxlJyB8ICdzdG9jaycgfCAnY3JlYXRlZF9hdCc7XG4gICAgc29ydF9vcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xuICB9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxQcm9kdWN0TGlzdFJlc3BvbnNlPj4ge1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChwYXJhbXM/LnBhZ2UpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgncGFnZScsIHBhcmFtcy5wYWdlLnRvU3RyaW5nKCkpO1xuICAgIGlmIChwYXJhbXM/LmxpbWl0KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2xpbWl0JywgcGFyYW1zLmxpbWl0LnRvU3RyaW5nKCkpO1xuICAgIGlmIChwYXJhbXM/LnNlYXJjaCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdzZWFyY2gnLCBwYXJhbXMuc2VhcmNoKTtcbiAgICBpZiAocGFyYW1zPy5jYXRlZ29yeSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdjYXRlZ29yeScsIHBhcmFtcy5jYXRlZ29yeSk7XG4gICAgaWYgKHBhcmFtcz8uc3ViX2NhdGVnb3J5KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3N1Yl9jYXRlZ29yeScsIHBhcmFtcy5zdWJfY2F0ZWdvcnkpO1xuICAgIGlmIChwYXJhbXM/LmJyYW5kKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2JyYW5kJywgcGFyYW1zLmJyYW5kKTtcbiAgICBpZiAocGFyYW1zPy5jb2xvcikgcXVlcnlQYXJhbXMuYXBwZW5kKCdjb2xvcicsIHBhcmFtcy5jb2xvcik7XG4gICAgaWYgKHBhcmFtcz8uc2l6ZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdzaXplJywgcGFyYW1zLnNpemUpO1xuICAgIGlmIChwYXJhbXM/Lm1hdGVyaWFsKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ21hdGVyaWFsJywgcGFyYW1zLm1hdGVyaWFsKTtcbiAgICBpZiAocGFyYW1zPy5zdHlsZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdzdHlsZScsIHBhcmFtcy5zdHlsZSk7XG4gICAgaWYgKHBhcmFtcz8uaXNfZmVhdHVyZWQgIT09IHVuZGVmaW5lZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdpc19mZWF0dXJlZCcsIHBhcmFtcy5pc19mZWF0dXJlZC50b1N0cmluZygpKTtcbiAgICBpZiAocGFyYW1zPy5taW5fcHJpY2UgIT09IHVuZGVmaW5lZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdtaW5fcHJpY2UnLCBwYXJhbXMubWluX3ByaWNlLnRvU3RyaW5nKCkpO1xuICAgIGlmIChwYXJhbXM/Lm1heF9wcmljZSAhPT0gdW5kZWZpbmVkKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ21heF9wcmljZScsIHBhcmFtcy5tYXhfcHJpY2UudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8uaW5fc3RvY2sgIT09IHVuZGVmaW5lZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdpbl9zdG9jaycsIHBhcmFtcy5pbl9zdG9jay50b1N0cmluZygpKTtcbiAgICBpZiAocGFyYW1zPy5zb3J0X2J5KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3NvcnRfYnknLCBwYXJhbXMuc29ydF9ieSk7XG4gICAgaWYgKHBhcmFtcz8uc29ydF9vcmRlcikgcXVlcnlQYXJhbXMuYXBwZW5kKCdzb3J0X29yZGVyJywgcGFyYW1zLnNvcnRfb3JkZXIpO1xuXG4gICAgY29uc3QgcXVlcnkgPSBxdWVyeVBhcmFtcy50b1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvZHVjdExpc3RSZXNwb25zZT4oYC9wcm9kdWN0cyR7cXVlcnkgPyBgPyR7cXVlcnl9YCA6ICcnfWApO1xuICB9XG5cbiAgYXN5bmMgZ2V0UHJvZHVjdChpZDogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxQcm9kdWN0RGV0YWlsUmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9kdWN0RGV0YWlsUmVzcG9uc2U+KGAvcHJvZHVjdHMvJHtpZH1gKTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZVByb2R1Y3QocHJvZHVjdERhdGE6IHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIGJhc2VfcHJpY2U6IG51bWJlcjtcbiAgICByZXNlbGxlcl9wcmljZT86IG51bWJlcjtcbiAgICByZXRhaWxfcHJpY2U/OiBudW1iZXI7XG4gICAgc3RvY2s6IG51bWJlcjtcbiAgICBpbWFnZV91cmw/OiBzdHJpbmc7XG4gICAgLy8gUHJvZHVjdCBhdHRyaWJ1dGVzIC0gc3VwcG9ydCBhcnJheXMgZm9yIG11bHRpLXZhbHVlIGF0dHJpYnV0ZXNcbiAgICBjYXRlZ29yeT86IHN0cmluZztcbiAgICBzdWJfY2F0ZWdvcnk/OiBzdHJpbmc7XG4gICAgYnJhbmQ/OiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICBtb2RlbD86IHN0cmluZztcbiAgICBjb2xvcnM/OiBzdHJpbmdbXTtcbiAgICBzaXplcz86IHN0cmluZ1tdO1xuICAgIG1hdGVyaWFscz86IHN0cmluZ1tdO1xuICAgIHN0eWxlcz86IHN0cmluZ1tdO1xuICAgIGZpdHM/OiBzdHJpbmdbXTtcbiAgICBwYXR0ZXJucz86IHN0cmluZ1tdO1xuICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgLSBzaW5nbGUgdmFsdWVzXG4gICAgY29sb3I/OiBzdHJpbmc7XG4gICAgc2l6ZT86IHN0cmluZztcbiAgICBtYXRlcmlhbD86IHN0cmluZztcbiAgICBzdHlsZT86IHN0cmluZztcbiAgICBmaXQ/OiBzdHJpbmc7XG4gICAgcGF0dGVybj86IHN0cmluZztcbiAgICAvLyBJbWFnZXMgd2l0aCBhdHRyaWJ1dGVzXG4gICAgaW1hZ2VzPzogQXJyYXk8eyB1cmw/OiBzdHJpbmc7IGF0dHJpYnV0ZXM/OiB7IGNvbG9yPzogc3RyaW5nOyBzaXplPzogc3RyaW5nOyBtYXRlcmlhbD86IHN0cmluZzsgc3R5bGU/OiBzdHJpbmc7IGZpdD86IHN0cmluZzsgcGF0dGVybj86IHN0cmluZyB9IH0+O1xuICAgIGltYWdlX3VybHM/OiBzdHJpbmdbXTtcbiAgICAvLyBGaWxlIGF0dHJpYnV0ZXMgbWV0YWRhdGEgZm9yIG1hdGNoaW5nIHVwbG9hZGVkIGZpbGVzIHdpdGggYXR0cmlidXRlc1xuICAgIGZpbGVBdHRyaWJ1dGVzPzogQXJyYXk8eyBpbmRleDogbnVtYmVyOyBhdHRyaWJ1dGVzPzogeyBjb2xvcj86IHN0cmluZzsgc2l6ZT86IHN0cmluZzsgbWF0ZXJpYWw/OiBzdHJpbmc7IHN0eWxlPzogc3RyaW5nOyBmaXQ/OiBzdHJpbmc7IHBhdHRlcm4/OiBzdHJpbmcgfSB8IG51bGwgfT47XG4gIH0sIGltYWdlcz86IEZpbGVbXSk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdD4+IHtcbiAgICBpZiAoaW1hZ2VzICYmIGltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBVc2UgRm9ybURhdGEgZm9yIG11bHRpcGFydCB1cGxvYWRcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeShwcm9kdWN0RGF0YSkpO1xuICAgICAgaW1hZ2VzLmZvckVhY2goKGltYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlcycsIGltYWdlKTtcbiAgICAgICAgLy8gSW5jbHVkZSBhdHRyaWJ1dGVzIG1ldGFkYXRhIGZvciBlYWNoIGZpbGUgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmIChwcm9kdWN0RGF0YS5maWxlQXR0cmlidXRlcykge1xuICAgICAgICAgIGNvbnN0IGZpbGVBdHRyID0gcHJvZHVjdERhdGEuZmlsZUF0dHJpYnV0ZXMuZmluZChhdHRyID0+IGF0dHIuaW5kZXggPT09IGluZGV4KTtcbiAgICAgICAgICBpZiAoZmlsZUF0dHIgJiYgZmlsZUF0dHIuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGBpbWFnZV9hdHRyaWJ1dGVzXyR7aW5kZXh9YCwgSlNPTi5zdHJpbmdpZnkoZmlsZUF0dHIuYXR0cmlidXRlcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UHJvZHVjdD4oJy9wcm9kdWN0cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9kdWN0PignL3Byb2R1Y3RzJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwcm9kdWN0RGF0YSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9kdWN0KFxuICAgIGlkOiBudW1iZXIsXG4gICAgcHJvZHVjdERhdGE6IFBhcnRpYWw8e1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgICAgYmFzZV9wcmljZTogbnVtYmVyO1xuICAgICAgcmVzZWxsZXJfcHJpY2U/OiBudW1iZXI7XG4gICAgICByZXRhaWxfcHJpY2U/OiBudW1iZXI7XG4gICAgICBzdG9jazogbnVtYmVyO1xuICAgICAgaW1hZ2VfdXJsPzogc3RyaW5nO1xuICAgICAgLy8gUHJvZHVjdCBhdHRyaWJ1dGVzIC0gc3VwcG9ydCBhcnJheXMgZm9yIG11bHRpLXZhbHVlIGF0dHJpYnV0ZXNcbiAgICAgIGNhdGVnb3J5Pzogc3RyaW5nO1xuICAgICAgc3ViX2NhdGVnb3J5Pzogc3RyaW5nO1xuICAgICAgYnJhbmQ/OiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICAgIG1vZGVsPzogc3RyaW5nO1xuICAgICAgY29sb3JzPzogc3RyaW5nW107XG4gICAgICBzaXplcz86IHN0cmluZ1tdO1xuICAgICAgbWF0ZXJpYWxzPzogc3RyaW5nW107XG4gICAgICBzdHlsZXM/OiBzdHJpbmdbXTtcbiAgICAgIGZpdHM/OiBzdHJpbmdbXTtcbiAgICAgIHBhdHRlcm5zPzogc3RyaW5nW107XG4gICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5IC0gc2luZ2xlIHZhbHVlc1xuICAgICAgY29sb3I/OiBzdHJpbmc7XG4gICAgICBzaXplPzogc3RyaW5nO1xuICAgICAgbWF0ZXJpYWw/OiBzdHJpbmc7XG4gICAgICBzdHlsZT86IHN0cmluZztcbiAgICAgIGZpdD86IHN0cmluZztcbiAgICAgIHBhdHRlcm4/OiBzdHJpbmc7XG4gICAgfT4sXG4gICAgaW1hZ2VzPzogRmlsZVtdXG4gICk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdD4+IHtcbiAgICBpZiAoaW1hZ2VzICYmIGltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkocHJvZHVjdERhdGEpKTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlcycsIGltYWdlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb2R1Y3Q+KGAvcHJvZHVjdHMvJHtpZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxQcm9kdWN0PihgL3Byb2R1Y3RzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHByb2R1Y3REYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVByb2R1Y3QoaWQ6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8bnVsbD4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PG51bGw+KGAvcHJvZHVjdHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYnVsa0RlbGV0ZVByb2R1Y3RzKHByb2R1Y3RJZHM6IG51bWJlcltdKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IGRlbGV0ZWQ6IG51bWJlcjsgZmFpbGVkOiBudW1iZXIgfT4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgZGVsZXRlZDogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9PignL3Byb2R1Y3RzL2J1bGstZGVsZXRlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb2R1Y3RfaWRzOiBwcm9kdWN0SWRzIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlUHJvZHVjdFN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdD4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb2R1Y3Q+KGAvcHJvZHVjdHMvJHtpZH0vc3RhdHVzYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXMgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9kdWN0U3RvY2soaWQ6IG51bWJlciwgc3RvY2s6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8UHJvZHVjdD4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFByb2R1Y3Q+KGAvcHJvZHVjdHMvJHtpZH0vc3RvY2tgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHN0b2NrIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYnVsa1VwZGF0ZVByb2R1Y3RTdG9jayh1cGRhdGVzOiBBcnJheTx7IGlkOiBudW1iZXI7IHN0b2NrOiBudW1iZXIgfT4pOiBQcm9taXNlPEFwaVJlc3BvbnNlPHsgdXBkYXRlZDogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8eyB1cGRhdGVkOiBudW1iZXI7IGZhaWxlZDogbnVtYmVyIH0+KCcvcHJvZHVjdHMvYnVsay1zdG9jaycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1cGRhdGVzIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlUHJvZHVjdEltYWdlKGltYWdlSWQ6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8bnVsbD4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PG51bGw+KGAvcHJvZHVjdHMvaW1hZ2VzLyR7aW1hZ2VJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gT3JkZXIgZW5kcG9pbnRzXG4gIGFzeW5jIGdldE9yZGVycyhwYXJhbXM/OiB7IHBhZ2U/OiBudW1iZXI7IGxpbWl0PzogbnVtYmVyIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPE9yZGVyTGlzdFJlc3BvbnNlPj4ge1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGlmIChwYXJhbXM/LnBhZ2UpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgncGFnZScsIHBhcmFtcy5wYWdlLnRvU3RyaW5nKCkpO1xuICAgIGlmIChwYXJhbXM/LmxpbWl0KSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2xpbWl0JywgcGFyYW1zLmxpbWl0LnRvU3RyaW5nKCkpO1xuXG4gICAgY29uc3QgcXVlcnkgPSBxdWVyeVBhcmFtcy50b1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8T3JkZXJMaXN0UmVzcG9uc2U+KGAvb3JkZXJzJHtxdWVyeSA/IGA/JHtxdWVyeX1gIDogJyd9YCk7XG4gIH1cblxuICBhc3luYyBnZXRPcmRlcihpZDogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxPcmRlcj4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PE9yZGVyPihgL29yZGVycy8ke2lkfWApO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlT3JkZXJTdGF0dXMoaWQ6IG51bWJlciwgc3RhdHVzOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPE9yZGVyPj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8T3JkZXI+KGAvb3JkZXJzLyR7aWR9L3N0YXR1c2AsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RhdHVzIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0UGF5b3V0cyhwYXJhbXM/OiB7IHBhZ2U/OiBudW1iZXI7IGxpbWl0PzogbnVtYmVyOyBzdGF0dXM/OiBzdHJpbmcgfSk6IFByb21pc2U8QXBpUmVzcG9uc2U8e1xuICAgIHBheW91dHM6IEFycmF5PHtcbiAgICAgIGlkOiBudW1iZXI7XG4gICAgICByZXNlbGxlcl9pZDogbnVtYmVyO1xuICAgICAgb3JkZXJfaWQ6IG51bWJlcjtcbiAgICAgIGFtb3VudDogbnVtYmVyO1xuICAgICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gICAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gICAgfT47XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBwYWdlOiBudW1iZXI7XG4gICAgbGltaXQ6IG51bWJlcjtcbiAgICB0b3RhbFBhZ2VzOiBudW1iZXI7XG4gIH0+PiB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgaWYgKHBhcmFtcz8ucGFnZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdwYWdlJywgcGFyYW1zLnBhZ2UudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8ubGltaXQpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnbGltaXQnLCBwYXJhbXMubGltaXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8uc3RhdHVzKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3N0YXR1cycsIHBhcmFtcy5zdGF0dXMpO1xuXG4gICAgY29uc3QgcXVlcnkgPSBxdWVyeVBhcmFtcy50b1N0cmluZygpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8e1xuICAgICAgcGF5b3V0czogQXJyYXk8e1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICByZXNlbGxlcl9pZDogbnVtYmVyO1xuICAgICAgICBvcmRlcl9pZDogbnVtYmVyO1xuICAgICAgICBhbW91bnQ6IG51bWJlcjtcbiAgICAgICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAgICAgfT47XG4gICAgICB0b3RhbDogbnVtYmVyO1xuICAgICAgcGFnZTogbnVtYmVyO1xuICAgICAgbGltaXQ6IG51bWJlcjtcbiAgICAgIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgICB9PihgL2FkbWluL3BheW91dHMke3F1ZXJ5ID8gYD8ke3F1ZXJ5fWAgOiAnJ31gKTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVBheW91dFN0YXR1cyhpZDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8QXBpUmVzcG9uc2U8e1xuICAgIGlkOiBudW1iZXI7XG4gICAgcmVzZWxsZXJfaWQ6IG51bWJlcjtcbiAgICBvcmRlcl9pZDogbnVtYmVyO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIH0+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgcmVzZWxsZXJfaWQ6IG51bWJlcjtcbiAgICAgIG9yZGVyX2lkOiBudW1iZXI7XG4gICAgICBhbW91bnQ6IG51bWJlcjtcbiAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAgICAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAgIH0+KGAvYWRtaW4vcGF5b3V0cy8ke2lkfS9zdGF0dXNgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHN0YXR1cyB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU9yZGVyKG9yZGVyRGF0YToge1xuICAgIGl0ZW1zOiBBcnJheTx7IHByb2R1Y3RfaWQ6IG51bWJlcjsgcXVhbnRpdHk6IG51bWJlcjsgcmVzZWxsZXJfaWQ/OiBudW1iZXI7IHNoYXJlX2xpbmtfY29kZT86IHN0cmluZyB9PjtcbiAgICBzaGlwcGluZ19hZGRyZXNzOiB7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICBwaG9uZTogc3RyaW5nO1xuICAgICAgYWRkcmVzc19saW5lMTogc3RyaW5nO1xuICAgICAgYWRkcmVzc19saW5lMj86IHN0cmluZztcbiAgICAgIGNpdHk6IHN0cmluZztcbiAgICAgIHN0YXRlOiBzdHJpbmc7XG4gICAgICBwb3N0YWxfY29kZTogc3RyaW5nO1xuICAgICAgY291bnRyeTogc3RyaW5nO1xuICAgIH07XG4gICAgYmlsbGluZ19hZGRyZXNzPzoge1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgcGhvbmU6IHN0cmluZztcbiAgICAgIGFkZHJlc3NfbGluZTE6IHN0cmluZztcbiAgICAgIGFkZHJlc3NfbGluZTI/OiBzdHJpbmc7XG4gICAgICBjaXR5OiBzdHJpbmc7XG4gICAgICBzdGF0ZTogc3RyaW5nO1xuICAgICAgcG9zdGFsX2NvZGU6IHN0cmluZztcbiAgICAgIGNvdW50cnk6IHN0cmluZztcbiAgICB9O1xuICB9KTogUHJvbWlzZTxBcGlSZXNwb25zZTx7XG4gICAgb3JkZXI6IHtcbiAgICAgIGlkOiBudW1iZXI7XG4gICAgICBjdXN0b21lcl9pZDogbnVtYmVyO1xuICAgICAgcmVzZWxsZXJfaWQ6IG51bWJlciB8IG51bGw7XG4gICAgICBwcm9kdWN0X2lkOiBudW1iZXIgfCBudWxsO1xuICAgICAgc2hhcmVfbGlua19pZDogbnVtYmVyIHwgbnVsbDtcbiAgICAgIGZpbmFsX3ByaWNlOiBzdHJpbmcgfCBudWxsO1xuICAgICAgcXVhbnRpdHk6IG51bWJlcjtcbiAgICAgIHRvdGFsX2Ftb3VudDogc3RyaW5nO1xuICAgICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gICAgICBwcm9kdWN0OiBQcm9kdWN0IHwgbnVsbDtcbiAgICAgIGN1c3RvbWVyOiBVc2VyIHwgbnVsbDtcbiAgICAgIHJlc2VsbGVyOiBVc2VyIHwgbnVsbDtcbiAgICAgIHNoYXJlTGluazogYW55IHwgbnVsbDtcbiAgICAgIGl0ZW1zOiBBcnJheTx7XG4gICAgICAgIGlkOiBudW1iZXI7XG4gICAgICAgIG9yZGVyX2lkOiBudW1iZXI7XG4gICAgICAgIHByb2R1Y3RfaWQ6IG51bWJlcjtcbiAgICAgICAgcXVhbnRpdHk6IG51bWJlcjtcbiAgICAgICAgdW5pdF9wcmljZTogc3RyaW5nO1xuICAgICAgICB0b3RhbF9wcmljZTogc3RyaW5nO1xuICAgICAgICBzaGFyZV9saW5rX2lkOiBudW1iZXIgfCBudWxsO1xuICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gICAgICAgIHByb2R1Y3Q6IFByb2R1Y3QgfCBudWxsO1xuICAgICAgICBzaGFyZUxpbms6IGFueSB8IG51bGw7XG4gICAgICB9PjtcbiAgICB9O1xuICAgIHRvdGFsX2Ftb3VudDogbnVtYmVyO1xuICAgIGl0ZW1zX2NvdW50OiBudW1iZXI7XG4gICAgZmFpbGVkOiBudW1iZXI7XG4gIH0+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7XG4gICAgICBvcmRlcjoge1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICBjdXN0b21lcl9pZDogbnVtYmVyO1xuICAgICAgICByZXNlbGxlcl9pZDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgcHJvZHVjdF9pZDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgc2hhcmVfbGlua19pZDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgZmluYWxfcHJpY2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgIHF1YW50aXR5OiBudW1iZXI7XG4gICAgICAgIHRvdGFsX2Ftb3VudDogc3RyaW5nO1xuICAgICAgICBzdGF0dXM6IHN0cmluZztcbiAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAgICAgICBwcm9kdWN0OiBQcm9kdWN0IHwgbnVsbDtcbiAgICAgICAgY3VzdG9tZXI6IFVzZXIgfCBudWxsO1xuICAgICAgICByZXNlbGxlcjogVXNlciB8IG51bGw7XG4gICAgICAgIHNoYXJlTGluazogYW55IHwgbnVsbDtcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcbiAgICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICAgIG9yZGVyX2lkOiBudW1iZXI7XG4gICAgICAgICAgcHJvZHVjdF9pZDogbnVtYmVyO1xuICAgICAgICAgIHF1YW50aXR5OiBudW1iZXI7XG4gICAgICAgICAgdW5pdF9wcmljZTogc3RyaW5nO1xuICAgICAgICAgIHRvdGFsX3ByaWNlOiBzdHJpbmc7XG4gICAgICAgICAgc2hhcmVfbGlua19pZDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gICAgICAgICAgcHJvZHVjdDogUHJvZHVjdCB8IG51bGw7XG4gICAgICAgICAgc2hhcmVMaW5rOiBhbnkgfCBudWxsO1xuICAgICAgICB9PjtcbiAgICAgIH07XG4gICAgICB0b3RhbF9hbW91bnQ6IG51bWJlcjtcbiAgICAgIGl0ZW1zX2NvdW50OiBudW1iZXI7XG4gICAgICBmYWlsZWQ6IG51bWJlcjtcbiAgICB9PignL29yZGVycycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3JkZXJEYXRhKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFBheW1lbnQgZW5kcG9pbnRzXG4gIGFzeW5jIGNyZWF0ZVBheW1lbnRPcmRlcihvcmRlcklkOiBudW1iZXIsIG1ldGFkYXRhPzogYW55KTogUHJvbWlzZTxBcGlSZXNwb25zZTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICBlbnRpdHk6IHN0cmluZztcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBhbW91bnRfcGFpZDogbnVtYmVyO1xuICAgIGFtb3VudF9kdWU6IG51bWJlcjtcbiAgICBjdXJyZW5jeTogc3RyaW5nO1xuICAgIHJlY2VpcHQ6IHN0cmluZztcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICBhdHRlbXB0czogbnVtYmVyO1xuICAgIG5vdGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIGNyZWF0ZWRfYXQ6IG51bWJlcjtcbiAgICBpbnRlcm5hbF9yZWNlaXB0X2lkOiBzdHJpbmc7XG4gICAgcGF5bWVudF9pZDogbnVtYmVyO1xuICAgIG9yZGVyX2lkOiBudW1iZXI7XG4gIH0+PiB7XG4gICAgY29uc3QgYm9keTogeyBvcmRlcl9pZDogbnVtYmVyOyBtZXRhZGF0YT86IGFueSB9ID0geyBvcmRlcl9pZDogb3JkZXJJZCB9O1xuICAgIGlmIChtZXRhZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBib2R5Lm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8e1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGVudGl0eTogc3RyaW5nO1xuICAgICAgYW1vdW50OiBudW1iZXI7XG4gICAgICBhbW91bnRfcGFpZDogbnVtYmVyO1xuICAgICAgYW1vdW50X2R1ZTogbnVtYmVyO1xuICAgICAgY3VycmVuY3k6IHN0cmluZztcbiAgICAgIHJlY2VpcHQ6IHN0cmluZztcbiAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgICAgYXR0ZW1wdHM6IG51bWJlcjtcbiAgICAgIG5vdGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgY3JlYXRlZF9hdDogbnVtYmVyO1xuICAgICAgaW50ZXJuYWxfcmVjZWlwdF9pZDogc3RyaW5nO1xuICAgICAgcGF5bWVudF9pZDogbnVtYmVyO1xuICAgICAgb3JkZXJfaWQ6IG51bWJlcjtcbiAgICB9PignL3BheW1lbnRzL2NyZWF0ZS1vcmRlcicsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyB2ZXJpZnlQYXltZW50KHBheW1lbnREYXRhOiB7XG4gICAgcmF6b3JwYXlfb3JkZXJfaWQ6IHN0cmluZztcbiAgICByYXpvcnBheV9wYXltZW50X2lkOiBzdHJpbmc7XG4gICAgcmF6b3JwYXlfc2lnbmF0dXJlOiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPEFwaVJlc3BvbnNlPHsgb3JkZXI6IE9yZGVyOyB2ZXJpZmllZDogYm9vbGVhbiB9Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8eyBvcmRlcjogT3JkZXI7IHZlcmlmaWVkOiBib29sZWFuIH0+KCcvcGF5bWVudHMvdmVyaWZ5Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXltZW50RGF0YSksXG4gICAgfSk7XG4gIH1cblxuICAvLyBTaGFyZSBsaW5rIGVuZHBvaW50c1xuICBhc3luYyBjcmVhdGVTaGFyZUxpbmsoZGF0YTogeyBcbiAgICBwcm9kdWN0X2lkOiBudW1iZXI7IFxuICAgIG1hcmdpbl9hbW91bnQ6IG51bWJlcjsgXG4gICAgZXhwaXJlc19pbl9kYXlzPzogbnVtYmVyIFxuICB9KTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IGNvZGU6IHN0cmluZzsgdXJsOiBzdHJpbmcgfT4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PHsgY29kZTogc3RyaW5nOyB1cmw6IHN0cmluZyB9PignL3NoYXJlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb2R1Y3RfaWQ6IGRhdGEucHJvZHVjdF9pZCxcbiAgICAgICAgbWFyZ2luX2Ftb3VudDogZGF0YS5tYXJnaW5fYW1vdW50LFxuICAgICAgICAuLi4oZGF0YS5leHBpcmVzX2luX2RheXMgJiYgeyBleHBpcmVzX2luX2RheXM6IGRhdGEuZXhwaXJlc19pbl9kYXlzIH0pLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRTaGFyZUxpbmsoY29kZTogc3RyaW5nKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7IHByb2R1Y3Q6IFByb2R1Y3Q7IG1hcmt1cDogbnVtYmVyIH0+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDx7IHByb2R1Y3Q6IFByb2R1Y3Q7IG1hcmt1cDogbnVtYmVyIH0+KGAvc2hhcmUvJHtjb2RlfWApO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2hhcmVMaW5rcygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEFycmF5PHsgY29kZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgcHJvZHVjdF9pZDogbnVtYmVyIH0+Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8QXJyYXk8eyBjb2RlOiBzdHJpbmc7IHVybDogc3RyaW5nOyBwcm9kdWN0X2lkOiBudW1iZXIgfT4+KCcvc2hhcmUnKTtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVNoYXJlTGluayhjb2RlOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPG51bGw+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxudWxsPihgL3NoYXJlLyR7Y29kZX1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gTWFya3VwIGVuZHBvaW50cyAoZm9yIHJlc2VsbGVycylcbiAgYXN5bmMgc2V0TWFya3VwKHByb2R1Y3RJZDogbnVtYmVyLCBtYXJrdXA6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8YW55PignL21hcmt1cHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcHJvZHVjdF9pZDogcHJvZHVjdElkLCBtYXJrdXAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBnZXRNYXJrdXBzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8YW55W10+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxhbnlbXT4oJy9tYXJrdXBzJyk7XG4gIH1cblxuICBhc3luYyBnZXRNYXJrdXAocHJvZHVjdElkOiBudW1iZXIpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGFueT4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9tYXJrdXBzLyR7cHJvZHVjdElkfWApO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hQcm9kdWN0RGF0YUJ5U2hhcmVMaW5rQ29kZShjb2RlOiBzdHJpbmcpOiBQcm9taXNlPEFwaVJlc3BvbnNlPGFueT4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PGFueT4oYC9zaGFyZS8ke2NvZGV9YCk7XG4gIH1cblxuICAvLyBBdHRyaWJ1dGUgZW5kcG9pbnRzXG4gIGFzeW5jIGdldENhdGVnb3JpZXMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+PignL2F0dHJpYnV0ZXMvY2F0ZWdvcmllcycpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U3ViQ2F0ZWdvcmllcyhjYXRlZ29yeUlkPzogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgY2F0ZWdvcnlfaWQ/OiBudW1iZXI7IGNhdGVnb3J5X25hbWU/OiBzdHJpbmcgfT4+PiB7XG4gICAgY29uc3QgcXVlcnkgPSBjYXRlZ29yeUlkID8gYD9jYXRlZ29yeV9pZD0ke2NhdGVnb3J5SWR9YCA6ICcnO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8QXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmc7IGNhdGVnb3J5X2lkPzogbnVtYmVyOyBjYXRlZ29yeV9uYW1lPzogc3RyaW5nIH0+PihgL2F0dHJpYnV0ZXMvc3ViLWNhdGVnb3JpZXMke3F1ZXJ5fWApO1xuICB9XG5cbiAgYXN5bmMgZ2V0QnJhbmRzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8QXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT4+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4oJy9hdHRyaWJ1dGVzL2JyYW5kcycpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q29sb3JzKCk6IFByb21pc2U8QXBpUmVzcG9uc2U8QXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT4+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4oJy9hdHRyaWJ1dGVzL2NvbG9ycycpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2l6ZXMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+PignL2F0dHJpYnV0ZXMvc2l6ZXMnKTtcbiAgfVxuXG4gIGFzeW5jIGdldE1hdGVyaWFscygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8QXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT4+KCcvYXR0cmlidXRlcy9tYXRlcmlhbHMnKTtcbiAgfVxuXG4gIGFzeW5jIGdldFN0eWxlcygpOiBQcm9taXNlPEFwaVJlc3BvbnNlPEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8QXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT4+KCcvYXR0cmlidXRlcy9zdHlsZXMnKTtcbiAgfVxuXG4gIGFzeW5jIGdldEZpdHMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+PignL2F0dHJpYnV0ZXMvZml0cycpO1xuICB9XG5cbiAgYXN5bmMgZ2V0UGF0dGVybnMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+PignL2F0dHJpYnV0ZXMvcGF0dGVybnMnKTtcbiAgfVxuXG4gIGFzeW5jIGdldEFsbEF0dHJpYnV0ZXMoKTogUHJvbWlzZTxBcGlSZXNwb25zZTx7XG4gICAgY2F0ZWdvcmllczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgc3ViX2NhdGVnb3JpZXM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nOyBjYXRlZ29yeV9pZDogbnVtYmVyOyBjYXRlZ29yeV9uYW1lOiBzdHJpbmcgfT47XG4gICAgYnJhbmRzOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9PjtcbiAgICBjb2xvcnM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+O1xuICAgIHNpemVzOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9PjtcbiAgICBtYXRlcmlhbHM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+O1xuICAgIHN0eWxlczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgZml0czogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgcGF0dGVybnM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+O1xuICB9Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8e1xuICAgICAgY2F0ZWdvcmllczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgICBzdWJfY2F0ZWdvcmllczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmc7IGNhdGVnb3J5X2lkOiBudW1iZXI7IGNhdGVnb3J5X25hbWU6IHN0cmluZyB9PjtcbiAgICAgIGJyYW5kczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgICBjb2xvcnM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+O1xuICAgICAgc2l6ZXM6IEFycmF5PHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0+O1xuICAgICAgbWF0ZXJpYWxzOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9PjtcbiAgICAgIHN0eWxlczogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47XG4gICAgICBmaXRzOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9PjtcbiAgICAgIHBhdHRlcm5zOiBBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9PjtcbiAgICB9PignL2F0dHJpYnV0ZXMvYWxsJyk7XG4gIH1cblxuICAvLyBSZXZpZXcgZW5kcG9pbnRzXG4gIGFzeW5jIGdldFByb2R1Y3RSZXZpZXdzKHByb2R1Y3RJZDogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxSZXZpZXdbXT4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFJldmlld1tdPihgL3Jldmlld3MvcHJvZHVjdC8ke3Byb2R1Y3RJZH1gKTtcbiAgfVxuXG4gIGFzeW5jIGdldFByb2R1Y3RSYXRpbmdTdGF0cyhwcm9kdWN0SWQ6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8UmV2aWV3UmF0aW5nU3RhdHM+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSZXZpZXdSYXRpbmdTdGF0cz4oYC9yZXZpZXdzL3Byb2R1Y3QvJHtwcm9kdWN0SWR9L3N0YXRzYCk7XG4gIH1cblxuICBhc3luYyBnZXRSZXZpZXcoaWQ6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8UmV2aWV3Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UmV2aWV3PihgL3Jldmlld3MvJHtpZH1gKTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RSZXZpZXdzKHBhcmFtcz86IHtcbiAgICBwYWdlPzogbnVtYmVyO1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIHByb2R1Y3RfaWQ/OiBudW1iZXI7XG4gICAgdXNlcl9pZD86IG51bWJlcjtcbiAgICByYXRpbmc/OiBudW1iZXI7XG4gICAgaXNfYXBwcm92ZWQ/OiBib29sZWFuO1xuICAgIGlzX3ZlcmlmaWVkX3B1cmNoYXNlPzogYm9vbGVhbjtcbiAgICBzb3J0X2J5PzogJ3JhdGluZycgfCAnaGVscGZ1bF9jb3VudCcgfCAnY3JlYXRlZF9hdCc7XG4gICAgc29ydF9vcmRlcj86ICdhc2MnIHwgJ2Rlc2MnO1xuICB9KTogUHJvbWlzZTxBcGlSZXNwb25zZTxSZXZpZXdMaXN0UmVzcG9uc2U+PiB7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgaWYgKHBhcmFtcz8ucGFnZSkgcXVlcnlQYXJhbXMuYXBwZW5kKCdwYWdlJywgcGFyYW1zLnBhZ2UudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8ubGltaXQpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnbGltaXQnLCBwYXJhbXMubGltaXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8ucHJvZHVjdF9pZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdwcm9kdWN0X2lkJywgcGFyYW1zLnByb2R1Y3RfaWQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8udXNlcl9pZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCd1c2VyX2lkJywgcGFyYW1zLnVzZXJfaWQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8ucmF0aW5nKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3JhdGluZycsIHBhcmFtcy5yYXRpbmcudG9TdHJpbmcoKSk7XG4gICAgaWYgKHBhcmFtcz8uaXNfYXBwcm92ZWQgIT09IHVuZGVmaW5lZCkgcXVlcnlQYXJhbXMuYXBwZW5kKCdpc19hcHByb3ZlZCcsIHBhcmFtcy5pc19hcHByb3ZlZC50b1N0cmluZygpKTtcbiAgICBpZiAocGFyYW1zPy5pc192ZXJpZmllZF9wdXJjaGFzZSAhPT0gdW5kZWZpbmVkKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ2lzX3ZlcmlmaWVkX3B1cmNoYXNlJywgcGFyYW1zLmlzX3ZlcmlmaWVkX3B1cmNoYXNlLnRvU3RyaW5nKCkpO1xuICAgIGlmIChwYXJhbXM/LnNvcnRfYnkpIHF1ZXJ5UGFyYW1zLmFwcGVuZCgnc29ydF9ieScsIHBhcmFtcy5zb3J0X2J5KTtcbiAgICBpZiAocGFyYW1zPy5zb3J0X29yZGVyKSBxdWVyeVBhcmFtcy5hcHBlbmQoJ3NvcnRfb3JkZXInLCBwYXJhbXMuc29ydF9vcmRlcik7XG5cbiAgICBjb25zdCBxdWVyeSA9IHF1ZXJ5UGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSZXZpZXdMaXN0UmVzcG9uc2U+KGAvcmV2aWV3cyR7cXVlcnkgPyBgPyR7cXVlcnl9YCA6ICcnfWApO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlUmV2aWV3KHJldmlld0RhdGE6IHtcbiAgICBwcm9kdWN0X2lkOiBudW1iZXI7XG4gICAgcmF0aW5nOiBudW1iZXI7XG4gICAgdGl0bGU/OiBzdHJpbmc7XG4gICAgY29tbWVudD86IHN0cmluZztcbiAgICBvcmRlcl9pZD86IG51bWJlcjtcbiAgfSk6IFByb21pc2U8QXBpUmVzcG9uc2U8UmV2aWV3Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UmV2aWV3PignL3Jldmlld3MnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJldmlld0RhdGEpLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlUmV2aWV3KGlkOiBudW1iZXIsIHJldmlld0RhdGE6IHtcbiAgICByYXRpbmc/OiBudW1iZXI7XG4gICAgdGl0bGU/OiBzdHJpbmc7XG4gICAgY29tbWVudD86IHN0cmluZztcbiAgfSk6IFByb21pc2U8QXBpUmVzcG9uc2U8UmV2aWV3Pj4ge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3Q8UmV2aWV3PihgL3Jldmlld3MvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmV2aWV3RGF0YSksXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkZWxldGVSZXZpZXcoaWQ6IG51bWJlcik6IFByb21pc2U8QXBpUmVzcG9uc2U8bnVsbD4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PG51bGw+KGAvcmV2aWV3cy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBtYXJrUmV2aWV3SGVscGZ1bChpZDogbnVtYmVyKTogUHJvbWlzZTxBcGlSZXNwb25zZTxSZXZpZXc+PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdDxSZXZpZXc+KGAvcmV2aWV3cy8ke2lkfS9oZWxwZnVsYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBhcHByb3ZlUmV2aWV3KGlkOiBudW1iZXIpOiBQcm9taXNlPEFwaVJlc3BvbnNlPFJldmlldz4+IHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0PFJldmlldz4oYC9yZXZpZXdzLyR7aWR9L2FwcHJvdmVgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICB9KTtcbiAgfVxufVxuXG4vLyAtLS0gRXhwb3J0IFNpbmdsZXRvbiBJbnN0YW5jZSBhbmQgQ2xhc3NlcyAtLS1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGFwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoQVBJX0JBU0VfVVJMKTtcblxuLy8gRXhwb3J0IHRva2VuIG1hbmFnZXIgZm9yIGRpcmVjdCBhY2Nlc3MgaWYgbmVlZGVkXG5leHBvcnQgeyBUb2tlbk1hbmFnZXIgfTsiXSwibmFtZXMiOlsiTG9hZGVyTWFuYWdlciIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiVG9rZW5NYW5hZ2VyIiwiZ2V0QWNjZXNzVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQUNDRVNTX1RPS0VOX0tFWSIsImdldFJlZnJlc2hUb2tlbiIsIlJFRlJFU0hfVE9LRU5fS0VZIiwic2V0VG9rZW5zIiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJzZXRJdGVtIiwiY2xlYXJUb2tlbnMiLCJyZW1vdmVJdGVtIiwiQXBpQ2xpZW50IiwicmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyIsImlzUmV0cnkiLCJzaG93TG9hZGVyIiwidXJsIiwiYmFzZVVSTCIsInRva2VuIiwic2hvdWxkU2hvd0xvYWRlciIsImluY2x1ZGVzIiwic2hvdyIsImhlYWRlcnMiLCJib2R5IiwiRm9ybURhdGEiLCJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImlzVW5hdXRob3JpemVkU3RhdHVzIiwic3RhdHVzIiwiZ2V0IiwianNvbiIsIm9rIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiY29kZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJpc1VuYXV0aG9yaXplZCIsInRvTG93ZXJDYXNlIiwibG9nIiwid2FybiIsImlzUmVmcmVzaGluZyIsInJlZnJlc2hQcm9taXNlIiwicmVmcmVzaGVkIiwiRXJyb3IiLCJoaWRlIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsInNpZ251cCIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwibG9naW4iLCJsb2dvdXQiLCJnZXRQcm9kdWN0cyIsInBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwicGFnZSIsImFwcGVuZCIsInRvU3RyaW5nIiwibGltaXQiLCJzZWFyY2giLCJjYXRlZ29yeSIsInN1Yl9jYXRlZ29yeSIsImJyYW5kIiwiY29sb3IiLCJzaXplIiwibWF0ZXJpYWwiLCJzdHlsZSIsImlzX2ZlYXR1cmVkIiwidW5kZWZpbmVkIiwibWluX3ByaWNlIiwibWF4X3ByaWNlIiwiaW5fc3RvY2siLCJzb3J0X2J5Iiwic29ydF9vcmRlciIsInF1ZXJ5IiwiZ2V0UHJvZHVjdCIsImlkIiwiY3JlYXRlUHJvZHVjdCIsInByb2R1Y3REYXRhIiwiaW1hZ2VzIiwibGVuZ3RoIiwiZm9ybURhdGEiLCJmb3JFYWNoIiwiaW1hZ2UiLCJpbmRleCIsImZpbGVBdHRyaWJ1dGVzIiwiZmlsZUF0dHIiLCJmaW5kIiwiYXR0ciIsImF0dHJpYnV0ZXMiLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsImJ1bGtEZWxldGVQcm9kdWN0cyIsInByb2R1Y3RJZHMiLCJwcm9kdWN0X2lkcyIsInVwZGF0ZVByb2R1Y3RTdGF0dXMiLCJ1cGRhdGVQcm9kdWN0U3RvY2siLCJzdG9jayIsImJ1bGtVcGRhdGVQcm9kdWN0U3RvY2siLCJ1cGRhdGVzIiwiZGVsZXRlUHJvZHVjdEltYWdlIiwiaW1hZ2VJZCIsImdldE9yZGVycyIsImdldE9yZGVyIiwidXBkYXRlT3JkZXJTdGF0dXMiLCJnZXRQYXlvdXRzIiwidXBkYXRlUGF5b3V0U3RhdHVzIiwiY3JlYXRlT3JkZXIiLCJvcmRlckRhdGEiLCJjcmVhdGVQYXltZW50T3JkZXIiLCJvcmRlcklkIiwibWV0YWRhdGEiLCJvcmRlcl9pZCIsInZlcmlmeVBheW1lbnQiLCJwYXltZW50RGF0YSIsImNyZWF0ZVNoYXJlTGluayIsInByb2R1Y3RfaWQiLCJtYXJnaW5fYW1vdW50IiwiZXhwaXJlc19pbl9kYXlzIiwiZ2V0U2hhcmVMaW5rIiwiZ2V0U2hhcmVMaW5rcyIsImRlbGV0ZVNoYXJlTGluayIsInNldE1hcmt1cCIsInByb2R1Y3RJZCIsIm1hcmt1cCIsImdldE1hcmt1cHMiLCJnZXRNYXJrdXAiLCJmZXRjaFByb2R1Y3REYXRhQnlTaGFyZUxpbmtDb2RlIiwiZ2V0Q2F0ZWdvcmllcyIsImdldFN1YkNhdGVnb3JpZXMiLCJjYXRlZ29yeUlkIiwiZ2V0QnJhbmRzIiwiZ2V0Q29sb3JzIiwiZ2V0U2l6ZXMiLCJnZXRNYXRlcmlhbHMiLCJnZXRTdHlsZXMiLCJnZXRGaXRzIiwiZ2V0UGF0dGVybnMiLCJnZXRBbGxBdHRyaWJ1dGVzIiwiZ2V0UHJvZHVjdFJldmlld3MiLCJnZXRQcm9kdWN0UmF0aW5nU3RhdHMiLCJnZXRSZXZpZXciLCJsaXN0UmV2aWV3cyIsInVzZXJfaWQiLCJyYXRpbmciLCJpc19hcHByb3ZlZCIsImlzX3ZlcmlmaWVkX3B1cmNoYXNlIiwiY3JlYXRlUmV2aWV3IiwicmV2aWV3RGF0YSIsInVwZGF0ZVJldmlldyIsImRlbGV0ZVJldmlldyIsIm1hcmtSZXZpZXdIZWxwZnVsIiwiYXBwcm92ZVJldmlldyIsImNvbnN0cnVjdG9yIiwiYXBpQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});